"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{7061:function(e,t,a){a.d(t,{u:function(){return s}});let s=(e,t)=>{let a=new Date().getFullYear();return'\n    <html>\n    <style>\n        @import url(\'https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;500;900&display=swap\');\n    </style>\n    <body style="background: #ddd;">\n    <table cellspacing="0" cellpadding="0" style="background: #fff; border: none; margin: auto; max-width: 768px; text-align:center; font-family: \'Inter Tight\', \'Lucida Sans Unicode\', \'Tahoma\', Verdana, sans-serif;">\n        <tr>\n            <td style="padding: 20px 50px; background: #000;">\n                <img width="248" style="min-width:248px;" src="https://moongolf.com/wp-content/uploads/2017/03/Taylormade-Logo-WHITE.png" alt="">\n            </td>\n        </tr>\n        <tr>\n            <td>\n                <h1 style="margin-top: 50px;">CONGRATULATIONS!</h1>\n                <p>'.concat(e,' has invited you to download the the <b>TaylorMade</b><br /> Product Guide for Industry Professionals app.</p>\n                <table style="text-align:center; margin: 0px auto 30px;">\n                    <tr>\n                        <td colspan="2" style="padding-top: 20px; padding-bottom: 30px;">\n                            <a href="https://www.taylormadegolfapp.com/retail/" style="text-decoration: none; font-weight: 500; background: #000; color:#fff; font-size: 18px; margin: 35px auto 15px; padding: 12px 22px;">Download the App</a>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <a href="https://apps.apple.com/us/app/taylormade-golf-product-guide/id1545120412"><img width="85" style="min-width:85px;" src="https://www.taylormadegolfapp.com/wp-content/uploads/2020/10/app-store-button.png" alt=""></a>\n                        </td>\n                        <td>\n                            <a href="https://play.google.com/store/apps/details?id=com.taylormadegolf.retailsales&hl=en_US&gl=US"><img width="85" style="min-width:85px;" src="https://www.taylormadegolfapp.com/wp-content/uploads/2020/10/google-play-button.png" alt=""></a>\n                        </td>\n                    </tr>\n                </table>\n            </td>\n        </tr>\n        <tr>\n            <td>\n                <table style="padding:20px 0px; border-bottom: 3px solid #FFA400; background: linear-gradient(276.44deg, #F5A800 0%, #D7BC7C 13.17%, #BCBBAF 25.37%, #00447F 75.39%, #01325C 90.31%);">\n                    <tr>\n                        <td style="padding:30px; width: 40%; text-align: center;">\n                            <img width="177" src="https://moongolf.com/wp-content/uploads/2017/03/Taylormade-Logo-WHITE.png" alt="">\n                        </td>\n                        <td style="padding:30px; color:#fff; width: 60%; text-align: left;">\n                            <p style="text-shadow: 0px 1px 1px rgba(0,0,0,0.55); font-weight: 500;">Designed for Industry Professionals, the TaylorMade Golf Product Guide offers quick access to in-depth details and specifications for TaylorMade Golf products along with exclusive content and training materials.\xa0 Additionally, you’ll find access to unique TaylorMade branded swag and premium promotional giveaways direct from TaylorMade Golf.</p>\n                        </td>\n                    </tr>\n                </table>\n            </td>\n        </tr>\n\n        <tr>\n            <td style="padding:20px 0px 40px;">\n                <div>\n                    <h1>SCAN TO<br /> GET STARTED.</h1>\n                    <img className=\'py-10\' width="145" style="min-width:145px;" src="http://taylormade-dev.icontechstudio.com/_next/static/taylor_qr_new.png" alt="" />\n                </div>\n            </td>\n        </tr>\n\n        <tr>\n            <td>\n                <table style="padding:40px 0px 40px; background: #000; color: #fff; width: 100%;">\n                    <tr>\n                        <td>\n                            <table style="position: relative; display: block; max-width: 300px; margin: 0px auto;">\n                                <tbody>\n                                    <tr>\n                                        <td style="width:100px; text-align: center;"><a target="_blank" href="https://www.instagram.com/taylormadegolf"><img src="https://taylormade-dev.icontechstudio.com/_next/static/social/instagram_logo.png" alt=""></a></td>\n                                        <td style="width:100px; text-align: center;"><a target="_blank" href="https://www.youtube.com/user/taylormadegolf"><img src="https://taylormade-dev.icontechstudio.com/_next/static/social/youtube_logo.png" alt=""></a></td>\n                                        <td style="width:100px; text-align: center;"><a target="_blank" href="https://twitter.com/taylormadegolf"><img src="https://taylormade-dev.icontechstudio.com/_next/static/social/x_twitter_logo.png" alt=""></a></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </td>\n                    </tr>\n                </table>\n            </td>\n        </tr>\n\n        <tr>\n        <td>\n            <table style="padding:30px 0px 40px; background: #F3F3F3; color: #00000067; width: 100%; text-align: center;">\n                <tr>\n                    <td style="padding: 30px;">\n                        <p style="font-size: 14px;">This inbox is not monitored, please contact customer service any<br/> time M-F 6:00am to 3:00pm PST at 877-860-8624.</p>\n\n                        <p style="font-size: 14px;"><a style="color: #00000067;" href="https://taylormade-dev.icontechstudio.com/unsubscribe/').concat(t,'"}>Unsubscribe</a> | <a style="color: #00000067;" href="https://www.taylormadegolfapp.com/privacy-policy/">Privacy Policy</a> | <a style="color: #00000067;" href="https://www.taylormadegolf.com/shared-customer-service-customer-legal/terms-and-conditions.html?lang=en_US">Terms & Conditions</a><br/>\n                            \xa9 ').concat(a,' Taylor Made Golf Company, Inc.</p>\n\n                        <p>\n                            <img width="177" style="opacity: 40%; filter: invert(1);" src="http://taylormade-dev.icontechstudio.com/_next/static/taylor_logo_gray40.png" alt="">\n                        </p>\n\n                        <p style="font-size: 14px;">5‌5‌4‌5 Fermi, CourtCarlsbad, CA 9‌2‌0‌0‌8 <br/><a href="tel:8778608624" style="color: #00000067;">(877) 860-8624</a></p>\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n    </table>\n    </body>\n    </html>\n    ')}},9782:function(e,t,a){a.d(t,{Fs:function(){return o},tO:function(){return i}});var s=a(994),n=a(2307),r=a(9584);let l=(0,s.ZF)({apiKey:"AIzaSyBXlb5oSgzDm-ywBdu6E1OFBrNCIGEsPJc",authDomain:"taylor-made-referral-app.firebaseapp.com",databaseURL:"https://taylor-made-referral-app-default-rtdb.firebaseio.com",projectId:"taylor-made-referral-app",storageBucket:"taylor-made-referral-app.appspot.com",messagingSenderId:"704463799241",appId:"1:704463799241:web:c60d98964a1045c4555e18",measurementId:"G-H8NYFZH8WW"}),o=(0,n.N8)(l),i=(0,r.cF)(l,"gs://taylor-made-referral-app.appspot.com")},7736:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var s=a(7437),n=a(2265),r=a(9782),l=a(2307),o=a(338),i=a(7061),d=a(5539);function c(e){let{params:t}=e,[a,c]=(0,n.useState)({}),[m,u]=(0,n.useState)([]),[p,f]=(0,n.useState)(0),[g,x]=(0,n.useState)(0),[h,y]=(0,n.useState)([]),[b,w]=(0,n.useState)(!1),[N,v]=(0,n.useState)(""),[j,S]=(0,n.useState)(""),[_,k]=(0,n.useState)(""),[P,T]=(0,n.useState)(!0),[E,O]=(0,n.useState)({status:"",message:""}),[F,I]=(0,n.useState)({email:"",userName:"",firstName:"",lastName:"",earnedPoints:0,redeemedPoints:0,referredUsers:[]});(0,n.useEffect)(()=>{if(""!==j&&null!=j){w(!0);let e=(0,l.iH)(r.Fs,"Referencers"),t=(0,l.IO)(e,(0,l.g2)("email"),(0,l.EW)(j),(0,l.Kk)(1)),a=(0,l.iH)(r.Fs,"Referrals"),s=(0,l.IO)(a,(0,l.g2)("referrerEmail"),(0,l.EW)(j)),n=(0,l.iH)(r.Fs,"TmUsers"),o=(0,l.IO)(n,(0,l.g2)("email"),(0,l.EW)(j),(0,l.Kk)(1));Promise.all([(0,l.U2)(t),(0,l.U2)(s),(0,l.U2)(o)]).then(e=>{let[t,a,s]=e,n={email:"",userName:"",firstName:"",lastName:"",earnedPoints:0,redeemedPoints:0,referredUsers:[]};if(t.exists()){let e=t.val(),a=Object.keys(e);n.earnedPoints=e[a.toString()].earnedPoints,n.redeemedPoints=e[a.toString()].redeemedPoints}else console.log("No data available");if(a.exists()){let e=a.val(),t=[];for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]={email:e[a].referredEmail,status:e[a].status});c(t)}else console.log("No referral data available");if(s.exists()){let e=s.val(),t=Object.keys(e)[0],a=e[t];n.email=a.email,n.userName=a.first_name+" "+a.last_name,n.firstName=a.first_name,n.lastName=a.last_name,I(n)}else console.log("No user data available");w(!1)}).catch(e=>{console.error(e),w(!1)})}},[j]),(0,n.useEffect)(()=>{u(Object.values(a))},[a]),(0,n.useEffect)(()=>{f(p)},[p]),(0,n.useEffect)(()=>{x(g)},[F]),(0,n.useEffect)(()=>{t.id&&(v(t.id),fetch("/api/tm/user/".concat(t.id),{method:"GET"}).then(e=>e.text()).then(e=>{let t=JSON.parse(e).user;S(t.email);let a=(0,l.iH)(r.Fs,"Referencers"),s=(0,l.IO)(a,(0,l.g2)("email"),(0,l.EW)(t.email));(0,l.U2)(s).then(e=>{if(e.exists()){let a=e.val(),s=Object.keys(a);I({...F,userName:t.first_name+" "+t.last_name,firstName:t.first_name,lastName:t.last_name,email:t.email,earnedPoints:a[s.toString()].earnedPoints,redeemedPoints:a[s.toString()].redeemedPoints})}else console.log("No data available")}).catch(e=>{console.error(e)})}).catch(e=>console.log("error",e)))},[t.id]),(0,n.useEffect)(()=>{var e;k(null!==(e=new URLSearchParams(window.location.search).get("userId"))&&void 0!==e?e:"")}),(0,n.useEffect)(()=>{_&&""!==_&&(v(_),fetch("/api/tm/user/".concat(_),{method:"GET"}).then(e=>e.text()).then(e=>{let t=JSON.parse(e).user;S(t.email);let a=(0,l.iH)(r.Fs,"Referencers"),s=(0,l.IO)(a,(0,l.g2)("email"),(0,l.EW)(t.email));(0,l.U2)(s).then(e=>{if(e.exists()){let a=e.val(),s=Object.keys(a);I({...F,userName:t.first_name+" "+t.last_name,firstName:t.first_name,lastName:t.last_name,email:t.email,earnedPoints:a[s.toString()].earnedPoints,redeemedPoints:a[s.toString()].redeemedPoints})}else console.log("No data available")}).catch(e=>{console.error(e)})}).catch(e=>console.log("error",e)))},[_]);let R=async e=>{T(!1),O({status:"info",message:"Processing your request..."}),setTimeout(async()=>{let t=(0,l.iH)(r.Fs,"Referrals"),a=(0,l.IO)(t,(0,l.g2)("referredEmail"),(0,l.EW)(e)),s=(await (0,l.U2)(a)).val(),n=Object.keys(s);"Submitted"==s[n[0].toString()].status?(console.log("Sending email..."),fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:e,from:"TaylorMade Golf App <referral@taylormadegolfapp.com>",subject:"Referral Submission Confirmation",text:"Thank you for submitting a referral. We will notify you once the referral is processed.",html:(0,i.u)(F.email,e)})}).then(e=>e.text()).then(async t=>{let a=(0,l.iH)(r.Fs,"Referrals"),s=(0,l.IO)(a,(0,l.g2)("referredEmail"),(0,l.EW)(e),(0,l.Kk)(1)),n=await (0,l.U2)(s);if(n.exists()){let e=Object.keys(n.val())[0];await (0,l.Vx)((0,l.iH)(r.Fs,"Referrals/".concat(e)),{status:"Resended"}),console.log("Referral with key ".concat(e,' updated to status "Resended"'))}else console.log("No referral found for email ".concat(e));O({status:"success",message:"Email has been sent successfully."}),T(!0)}).catch(e=>{O({status:"error",message:"An error occurred while sending email."}),T(!0)})):(O({status:"error",message:"This user has already been resend."}),T(!0))},3e3)};return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col items-center pb-36 p-0",children:[(0,s.jsxs)("div",{className:"max-w-2xl w-full px-6 md:px-0",children:[(0,s.jsx)(o.Z,{text:"Referral Dashboard"}),(0,s.jsx)("div",{className:"max-w-2xl w-full items-center justify-between text-sm lg:flex mt-6",children:(0,s.jsxs)("div",{className:"flex w-full",children:[(0,s.jsx)("div",{className:"flex-auto w-70",children:"User Name"}),(0,s.jsxs)("div",{className:"flex-auto w-30 font-bold text-right",children:[F.firstName," ",F.lastName]})]})}),(0,s.jsx)("div",{className:"max-w-2xl w-full items-center justify-between text-sm lg:flex mt-6",children:(0,s.jsxs)("div",{className:"flex w-full",children:[(0,s.jsx)("div",{className:"flex-auto w-70",children:"Total Referral Points Earned"}),(0,s.jsx)("div",{className:"flex-auto w-30 font-bold text-right",children:F.earnedPoints})]})}),(0,s.jsx)("div",{className:"max-w-2xl w-full items-center justify-between text-sm lg:flex mt-6",children:(0,s.jsxs)("div",{className:"flex w-full",children:[(0,s.jsx)("div",{className:"flex-auto w-70",children:"Total Referral Points Redeemed"}),(0,s.jsx)("div",{className:"flex-auto w-30 font-bold text-right",children:F.redeemedPoints})]})})]}),(0,s.jsxs)("div",{className:"relative max-w-2xl w-full pb-16 px-6 md:px-0",children:[(0,s.jsx)(o.Z,{text:"Referred Users"}),(0,s.jsx)("div",{className:"fixed bottom-6 m-w-100 w-10/12",children:(0,s.jsx)(d.Z,{alertStatus:E,setAlertStatus:(e,t)=>{O({status:e,message:t})}})}),(0,s.jsx)("ul",{className:"referrals-list min-w-100 min-h-20 block",children:m.map((e,t)=>(0,s.jsxs)("li",{className:"flex align-items-center text-left w-full mt-6",children:[(0,s.jsx)("div",{className:"flex-auto w-70",children:String(e.email)}),(0,s.jsx)("div",{className:"flex-auto w-30 font-bold text-sm text-right",children:"Submitted"==e.status?(0,s.jsx)("button",{disabled:!P,className:"max-w-36 w-36 rounded py-2 ".concat(P?"bg-indigo-950 text-white":"bg-slate-500 text-white"," text-center"),onClick:()=>R(e.email),children:e.status}):e.status})]},t))}),0!==Object.keys(a).length||b?null:(0,s.jsx)("p",{className:"text-center mt-6",children:"No referred users found"})]})]})}},5539:function(e,t,a){a.d(t,{Z:function(){return n}});var s=a(7437);function n(e){let{alertStatus:t,setAlertStatus:a}=e;return(0,s.jsx)("div",{className:"".concat(""!==t.message&&"scale-in-center","\n                ").concat("error"==t.status&&t.message&&"border border-red-300 bg-red-200"," ").concat("success"==t.status&&t.message&&"border bg-taylormade-blue-500"," ").concat("info"==t.status&&t.message&&"border border-blue-300 bg-blue-200"," ").concat("warning"==t.status&&t.message&&"border border-yellow-300 bg-yellow-200"," ").concat("neutral"==t.status&&t.message&&"border border-gray-300 bg-gray-200"," ").concat("zinc"==t.status&&t.message&&"border border-zinc-300 bg-zinc-200"," mt-2 bt-6 rounded-md px-12 py-3 text-xs text-center w-full relative"),children:t.message&&(0,s.jsxs)("div",{className:"".concat("error"==t.status&&"text-red-600"," ").concat("success"==t.status&&"text-white"," ").concat("info"==t.status&&"text-blue-600"," ").concat("warning"==t.status&&"text-yellow-600"," ").concat("neutral"==t.status&&"text-gray-600"," ").concat("zinc"==t.status&&"text-zinc-600"," text-xs"),children:[t.message,(0,s.jsx)("div",{className:"absolute right-4 rounded-full bg-opacity-30 bg-slate-400 cursor-pointer w-5 h-5 max-w-5 max-h-5 flex justify-center items-center top-2 text-xs text-black",onClick:()=>{a([{status:"",message:""}])},children:"X"})]})})}},338:function(e,t,a){a.d(t,{Z:function(){return n}});var s=a(7437);function n(e){let{text:t=""}=e;return(0,s.jsx)("div",{className:"form-header max-w-2xl w-full items-center justify-between font-mono text-sm lg:flex mt-6 pb-3",children:(0,s.jsx)("h5",{className:"font-semibold text-lg",children:t})})}a(2265)}}]);