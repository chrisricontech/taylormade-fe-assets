(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{6157:function(e,r,t){Promise.resolve().then(t.bind(t,9547))},9782:function(e,r,t){"use strict";t.d(r,{Fs:function(){return n},tO:function(){return o}});var c=t(994),a=t(2307),s=t(9584);let l=(0,c.ZF)({apiKey:"AIzaSyBXlb5oSgzDm-ywBdu6E1OFBrNCIGEsPJc",authDomain:"taylor-made-referral-app.firebaseapp.com",databaseURL:"https://taylor-made-referral-app-default-rtdb.firebaseio.com",projectId:"taylor-made-referral-app",storageBucket:"taylor-made-referral-app.appspot.com",messagingSenderId:"704463799241",appId:"1:704463799241:web:c60d98964a1045c4555e18",measurementId:"G-H8NYFZH8WW"}),n=(0,a.N8)(l),o=(0,s.cF)(l,"gs://taylor-made-referral-app.appspot.com")},9547:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var c=t(7437),a=t(2265),s=t(9782),l=t(2307),n=t(2808),o=t.n(n),i=t(6560),u=t.n(i),d=t(9584),m=e=>{let{title:r="",subtitle:t="",fontSize:l=1,layoutType:n="col",image:o=""}=e,[i,m]=(0,a.useState)();(0,a.useEffect)(()=>{if(""!==o){let e=(0,d.iH)(s.tO,o);(0,d.Jt)(e).then(e=>{console.log(e),m(e)}).catch(e=>{console.log(e)})}},[o]);let f={col:"flex-col",row:"flex-row"};return Object.keys(f).find(e=>f[e]===n),(0,c.jsxs)("div",{className:"relative block hero-banner overflow-hidden bg-cover bg-center ".concat(f[n]," w-full justify-center px-3 md:px-0 py-10 md:py-16 mb-4 md:mb-10"),children:[i&&(0,c.jsx)("img",{src:i,alt:"hero banner",className:"absolute w-full h-full top-0 left-0 z-0"}),(0,c.jsx)("h1",{className:"".concat(u().className," flex-1 text-center z-10 text-").concat(1+l,"xl sm:text-").concat(2+l,"xl md:text-").concat(3+l,"xl"),children:r}),""!==t&&(0,c.jsx)("h1",{className:"".concat(u().className," flex-1 text-center z-10 text-").concat(1+l,"xl sm:text-").concat(2+l,"xl md:text-").concat(3+l,"xl"),children:t})]})};function f(e){let{params:r}=e,[t,n]=(0,a.useState)(""),[i,u]=(0,a.useState)("");return(0,a.useEffect)(()=>{if(r.email){let e=r.email.replace(/%40/g,"@");u(e);let t=(0,l.iH)(s.Fs,"Referenced"),c=(0,l.IO)(t,(0,l.g2)("referredEmail"),(0,l.EW)(e),(0,l.Kk)(1));(0,l.U2)(c).then(e=>{if(e.exists()){let r=Object.keys(e.val())[0],t=(0,l.iH)(s.Fs,"Referenced/".concat(r));(0,l.Vx)(t,{optin:!0}).then(()=>{n("unsubscribed")}).catch(e=>{n("error"),console.error(e)})}else n("empty"),console.log("No data available")}).catch(e=>{n("error"),console.error(e)})}else n("error"),console.error("No email provided")},[r.email]),(0,c.jsxs)("main",{className:"".concat(o().className," flex min-h-screen flex-col items-center pb-36 p-0"),children:[(0,c.jsx)(m,{title:"Taylor Made Referral Unsubscribe Service"}),(0,c.jsx)("h1",{className:"mb-6",children:i}),(0,c.jsx)("h2",{children:"unsubscribed"!==t&&"error"!==t&&"empty"!==t?"Unsubscribing...":""}),(0,c.jsx)("h2",{children:"unsubscribed"==t?"You have been unsubscribed.":""}),(0,c.jsx)("h2",{children:"unsubscribed"==t?"Thank you for using our service.":""}),(0,c.jsx)("h2",{children:"empty"==t?"You are currently unsubscribed.":""}),(0,c.jsx)("h3",{children:"error"==t?"An error occurred":""})]})}},2808:function(e){e.exports={style:{fontFamily:"'__Roboto_792391', '__Roboto_Fallback_792391'",fontWeight:400,fontStyle:"normal"},className:"__className_792391"}}},function(e){e.O(0,[481,535,971,938,744],function(){return e(e.s=6157)}),_N_E=e.O()}]);